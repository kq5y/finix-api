# finix-api

[![CI](https://github.com/kq5y/finix-api/actions/workflows/ci.yml/badge.svg)](https://github.com/kq5y/finix-api/actions/workflows/ci.yml)
[![Deploy](https://github.com/kq5y/finix-api/actions/workflows/deploy.yml/badge.svg)](https://github.com/kq5y/finix-api/actions/workflows/deploy.yml)

finix-api is a REST API for the finix application to manage personal expenses. Users can log their expenses and organize them by category, location, payment method, etc.

## Stacks

- Ruby 3.4.1
- Ruby on Rails 8.0.1
- PostgreSQL
- Docker
- Discord OAuth2

## Environments & Secrets

### Environments

- `APP_BASE_URL`: URL hosting finix-app (ex. http://localhost:3001)
- `API_BASE_URL`: URL hosting finix-api (ex. http://localhost:3000)
- `RAILS_MASTER_KEY`: Contents of config/master.key (optional)

### Secrets

- `secret_key_base`: secret_key_base (Generated by `rails secret`)
- `discord.client_id`: Client ID of Discord OAuth2
- `discord.client_secret`: Client secret of Discord OAuth2
- `jwt.secret_key`: Secret used in JWT (Generated by `openssl rand 256 | base64`)
- `db.password`: Password of PosgreSQL database

## Deploy

This application can be run on Docker and deployed with Kamal.

1.  Install Kamal:

    ```bash
    gem install kamal
    ```

2.  Setup the application:

    ```bash
    kamal setup
    ```

3.  Deploy the application:

    ```bash
    kamal deploy
    ```

## License

This project is released under the [MIT License](LICENSE).
